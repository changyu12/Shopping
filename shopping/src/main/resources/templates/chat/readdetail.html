<!DOCTYPE html>
<html>

<head>
	<meta charset="EUC-KR">
	<title>Insert title here</title>

	<!-- ===============================================-->
	<!--    Favicons-->
	<!-- ===============================================-->
	<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/favicons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../assets/img/favicons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../assets/img/favicons/favicon-16x16.png">
	<link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicons/favicon.ico">
	<link rel="manifest" href="../assets/img/favicons/manifest.json">
	<meta name="msapplication-TileImage" content="../assets/img/favicons/mstile-150x150.png">
	<meta name="theme-color" content="#ffffff">
	<script src="../vendors/imagesloaded/imagesloaded.pkgd.min.js"></script>
	<script src="../vendors/simplebar/simplebar.min.js"></script>
	<script src="../assets/js/config.js"></script>


	<!-- ===============================================-->
	<!--    Stylesheets-->
	<!-- ===============================================-->
	<link href="../vendors/glightbox/glightbox.min.css" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
	<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&amp;display=swap"
		rel="stylesheet">
	<link href="../vendors/simplebar/simplebar.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
	<link href="../assets/css/theme-rtl.min.css" type="text/css" rel="stylesheet" id="style-rtl">
	<link href="../assets/css/theme.min.css" type="text/css" rel="stylesheet" id="style-default">
	<link href="../assets/css/user-rtl.min.css" type="text/css" rel="stylesheet" id="user-style-rtl">
	<link href="../assets/css/user.min.css" type="text/css" rel="stylesheet" id="user-style-default">
	<script>
		var phoenixIsRTL = window.config.config.phoenixIsRTL;
		if (phoenixIsRTL) {
			var linkDefault = document.getElementById('style-default');
			var userLinkDefault = document.getElementById('user-style-default');
			linkDefault.setAttribute('disabled', true);
			userLinkDefault.setAttribute('disabled', true);
			document.querySelector('html').setAttribute('dir', 'rtl');
		} else {
			var linkRTL = document.getElementById('style-rtl');
			var userLinkRTL = document.getElementById('user-style-rtl');
			linkRTL.setAttribute('disabled', true);
			userLinkRTL.setAttribute('disabled', true);
		}
	</script>
</head>

<body>
	

	

	<div class="chat-content tab-content flex-1">
		<div class="tab-pane h-100 fade active show" id="tab-thread-1" role="tabpanel" aria-labelledby="tab-thread-1">
			<div class="card flex-1 h-100 phoenix-offcanvas-container">
				<div class="card-header p-3 p-md-4 d-flex flex-between-center">
					<div class="d-flex align-items-center">
						<button class="btn ps-0 pe-2 text-700 d-sm-none" data-phoenix-toggle="offcanvas"
							data-phoenix-target="#chat-sidebar"><span class="fa-solid fa-chevron-left"></span></button>
						<div class="d-flex flex-column flex-md-row align-items-md-center">
							<button
								class="btn fs-1 fw-semi-bold text-1100 d-flex align-items-center p-0 me-3 text-start"
								data-phoenix-toggle="offcanvas" data-phoenix-target="#thread-details-0"><span
									class="line-clamp-1">판매자와의 대화</span><span
									class="fa-solid fa-chevron-down ms-2 fs--2"></span></button>
							<p class="fs--1 mb-0 me-2"> <span
									class="fa-solid fa-circle text-success fs--3 me-2"></span>Active now</p>
						</div>
					</div>
					<div class="d-flex">
						<button class="btn btn-icon btn-primary me-1"><span class="fa-solid fa-phone"></span></button>
						<button class="btn btn-icon btn-primary me-1"><span class="fa-solid fa-video"></span></button>
						<button class="btn btn-icon btn-phoenix-primary" type="button" data-bs-toggle="dropdown"
							data-boundary="window" aria-haspopup="true" aria-expanded="false"
							data-bs-reference="parent"><span class="fa-solid fa-ellipsis-vertical"></span></button>
					</div>
				</div>

				<div class="card-body p-3 p-sm-4 scrollbar">

					<div class="card-body p-3 p-sm-4 scrollbar">
        <th:block th:each="comment: ${chat.chatreplyList}">
            <div class="d-flex chat-message" th:if="${comment.username eq #authentication.principal.username}">
                <div class="d-flex mb-2 justify-content-end flex-1">
                    <div class="w-100 w-xxl-75">
                        <div class="d-flex flex-end-center hover-actions-trigger">
                            <div class="chat-message-content me-2">
                                <div class="mb-1 sent-message-content light bg-primary rounded-2 p-3 text-white">
                                    <p class="mb-0" th:text="${comment.content}">content</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-end">
                            <p class="mb-0 fs--2 text-600 fw-semi-bold ms-7" th:text="${comment.createDate}">createdate</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex chat-message" th:if="${comment.username ne #authentication.principal.username}">
                <div class="d-flex mb-2 flex-1">
                    <div class="w-100 w-xxl-75">
                        <div class="d-flex hover-actions-trigger">
                            <div class="avatar avatar-m me-3 flex-shrink-0"><img class="rounded-circle" src="../assets/img/team/20.webp" alt="" /></div>
                            <div class="chat-message-content received me-2">
                                <div class="mb-1 received-message-content border rounded-2 p-3">
                                    <p class="mb-0" th:text="${comment.content}">content</p>
                                </div>
                            </div>
                        </div>
                        <p class="mb-0 fs--2 text-600 fw-semi-bold ms-7" th:text="${comment.createDate}">createdate</p>
                    </div>
                </div>
            </div>
        </th:block>



					<form action="/chatreply/create" method="post">
						<input type="hidden" name="id" th:value="${chat.id}">
						<input type="hidden" name="username" th:value="${#authentication.principal.username}">
						<input type="hidden" name="chatuser" th:value="${chat.username}">
						<div class="card-footer">
							<input type="text" name="content" class="form-control">

							
							<div class="d-flex justify-content-between align-items-end">
								<div>
									<button class="btn btn-link py-0 ps-0 pe-2 text-900 fs--1 btn-emoji"
										data-picmo="data-picmo"><span class="fa-regular fa-face-smile"></span></button>
									<label class="btn btn-link py-0 px-2 text-900 fs--1" for="chatPhotos-1"><span
											class="fa-solid fa-image"></span></label>
									<input class="d-none" type="file" accept="image/*" id="chatPhotos-1" />
									<label class="btn btn-link py-0 px-2 text-900 fs--1" for="chatAttachment-1"> <span
											class="fa-solid fa-paperclip"></span></label>
									<input class="d-none" type="file" id="chatAttachment-1" />
									<button class="btn btn-link py-0 px-2 text-900 fs--1"><span
											class="fa-solid fa-microphone"></span></button>
									<button class="btn btn-link py-0 px-2 text-900 fs--1"><span
											class="fa-solid fa-ellipsis"></span></button>
								</div>
								<div>
									<button class="btn btn-primary fs--2" type="submit">
										Send<span class="fa-solid fa-paper-plane ms-1"></span>
									</button>
								</div>
							</div>
						</div>
					</form>
					<script>
						var navbarTopStyle = window.config.config.phoenixNavbarTopStyle;
						var navbarTop = document.querySelector('.navbar-top');
						if (navbarTopStyle === 'darker') {
							navbarTop.classList.add('navbar-darker');
						}

						var navbarVerticalStyle = window.config.config.phoenixNavbarVerticalStyle;
						var navbarVertical = document.querySelector('.navbar-vertical');
						if (navbarVertical && navbarVerticalStyle === 'darker') {
							navbarVertical.classList.add('navbar-darker');
						}
					</script>

					<!-- ===============================================-->
					<!--    JavaScripts-->
					<!-- ===============================================-->
					<script src="../vendors/popper/popper.min.js"></script>
					<script src="../vendors/bootstrap/bootstrap.min.js"></script>
					<script src="../vendors/anchorjs/anchor.min.js"></script>
					<script src="../vendors/is/is.min.js"></script>
					<script src="../vendors/fontawesome/all.min.js"></script>
					<script src="../vendors/lodash/lodash.min.js"></script>
					<script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
					<script src="../vendors/list.js/list.min.js"></script>
					<script src="../vendors/feather-icons/feather.min.js"></script>
					<script src="../vendors/dayjs/dayjs.min.js"></script>
					<script src="../vendors/glightbox/glightbox.min.js"></script>
					<script src="https://unpkg.com/picmo@5.7.6/dist/umd/index.js"></script>
					<script src="https://unpkg.com/@picmo/popup-picker@5.7.6/dist/umd/index.js"></script>
					<script src="../vendors/lottie/lottie.min.js"></script>
					<script src="../assets/js/phoenix.js"></script>
</body>

</html>